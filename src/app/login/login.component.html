<div class="container w-75 m-4 mx-auto px-3">
  <h1 class="">Register Now:</h1>

  <div *ngIf="errorMessage" class="alert alert-info">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="handleLogin(loginForm)" [formGroup]="loginForm">
    <div class="form-group">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        class="form-control mb-2"
        name="email"
        id="email"
        placeholder="abc@mail.com"
        formControlName="email"
      />
      <div
        class="alert alert-danger"
        *ngIf="
          loginForm.get('email')?.errors && loginForm.get('email')?.touched
        "
      >
        <div *ngIf="loginForm.get('email')?.getError('required')">
          Email is required.
        </div>
        <div *ngIf="loginForm.get('email')?.getError('email')">
          Email is invalid.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="password" class="form-label">Password</label>
      <input
        type="password"
        class="form-control mb-2"
        name="password"
        id="password"
        placeholder="Enter your password"
        formControlName="password"
      />
      <div
        class="alert alert-danger"
        *ngIf="
          loginForm.get('password')?.errors &&
          loginForm.get('password')?.touched
        "
      >
        <div *ngIf="loginForm.get('password')?.getError('required')">
          Password is required.
        </div>

        <div *ngIf="loginForm.get('password')?.getError('pattern')">
          Password must contain at least one number and one uppercase and
          lowercase letter
        </div>
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-main d-flex gap-2 mt-3 ms-auto align-items-center"
      [ngClass]="isLoading ? 'btn-main-disabled' : ''"
    >
      <span
        [ngClass]="isLoading ? 'spinner-border spinner-border-sm' : 'd-none'"
      ></span>

      {{ isLoading ? "Loading..." : "Login" }}
    </button>
  </form>
</div>
